# 라이브러리를 익히고 사용하라

## java Random 라이브러리의 예제
> - [RandomTest.java](RandomTest.java)
> - `low`의 결과가 약 50만이 나와야 수가 고르게 분배되었다고 할 수 있는데, 계속 66만 근처가 나온다.
> - `rnd.nextInt()`가 반환한 값을 `Math.abs()`를 통해 정수로 만드는데, 문제가 있다.
>   - `Integer.MIN_VALUE`에 `Math.abs()`를 적용하더라도 부호가 마이너스 그대로다.
> - `randomNumber()`의 경우 다음과 같은 문제가 있다.
>   - `n`이 그리 크지 않은 2의 제곱수라면, 얼마 지나지 않아 같은 수열이 반복된다.
>   - `n`이 2의 제곱수가 아니라면, 몇몇 숫자가 계속 반복된다.
> - 이와 같이 완전한 랜덤 숫자 생성기를 만드는 일은 쉽지 않은데, `random.nextInt(int bound)` 메서드를 이용해서 쉽게 구현할 수 있다.
>   - 알고리즘에 능통한 여러 전문가가 오랜 시간에 걸쳐 만든 메소드다.

## 자바 7 이후 Random
> - 자바 7 이후에는 `ThreadLocalRandom` 클래스를 사용하는 것이 더 좋다.
> - 포크-조인 풀이나 병렬 스트림에서는 `SplittableRandom` 클래스를 사용하는 것이 좋다.

### 표준 라이브러리를 쓰는 것의 이점
> - 전문가의 지식과 경험을 활용할 수 있다.
> - 핵심 비즈니스로직 외에 다른 것을 작성하는데 낭비하는 시간을 줄인다.
> - 따로 노력하지 않아도 성능이 지속해서 개선된다.
> - 패치를 거듭할수록 기능이 점점 많아진다.
> - 많은 사람들에게 낯익은 코드가 되어 협업하기 좋다.
> - 메이저 릴리즈에 주목할만한 수많은 기능이 라이브러리에 추가된다.

## 자바 9에서 추가된 `transferTo()`의 예
> 자바에서 I/O 작업 시 데이터 전송을 보다 효율적으로 수행하기 위한 기능을 제공한다.
```java
public void urlTest() throws IOException {
    try (InputStream in = new URL("https://dbpia.co.kr").openStream()) {
        in.transferTo(System.out);
    }
}
```

## 핵심 정리
> - 개발자들이 많이 쓸 것 같은 기능이 있다면, 개발하기보다 라이브러리를 찾아보자.